<input id="{{ widget.attrs.id }}" name="{{ widget.name }}" type="hidden" value="{{ widget.value|default:"" }}">

<img id="{{widget.name}}Selected" class="img-thumbnail {% if not url %}hidden{% endif %}" src="{{ url }}">

<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#{{ widget.name }}Modal">
  Select image
</button>

<div class="modal fade" id="{{ widget.name }}Modal" tabindex="-1" role="dialog" aria-labelledby="#{{ widget.name }}ModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="{{ widget.name }}ModalLabel">Select an image</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="images" id="{{ widget.name }}Images"></div>

        <nav aria-label="Image navigation">
          <ul class="pagination justify-content-center">
            <li id="{{ widget.name }}ButtonPrevious" class="page-item"><button type="button" class="page-link">Previous</button></li>
            <li id="{{ widget.name }}ButtonNext" class="page-item"><button type="button" class="page-link">Next</button></li>
          </ul>
        </nav>
      </div>
    </div>
  </div>
</div>

<script>
  widget = new ImageSelectWidget("{{ widget.name }}")
  widget.getImages()
</script>
