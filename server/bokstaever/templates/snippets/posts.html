{% load bokstaever %}

<div class="post-list">
  {% for post in posts %}
    {% if post.image %}
      <div class="post">
    {% else %}
      <div class="post full">
    {% endif %}
        <a href="{% url 'frontend:post-detail' post.pk %}">
          {% if post.image %}
          <div class="post-header">
            <img class="post-image" src="{{ post.image.image.url }}">
          </div>
          <div class="post-body">
          {% else %}
          <div class="post-body full">
          {% endif %}
            <div class="post-content">
              <h3 class="post-title">{{ post.headline }}</h3>
              <div class="post-text">
                {% if post.image %}
                  {{ post.text | markdownify | truncatechars_html:350 | striptags }}
                {% else %}
                  {{ post.text | markdownify | truncatechars_html:600 | striptags }}
                {% endif %}
                <small class="post-footer">
                  {{ post.published }}, {{ post.text | readtime }}min read
                  <span class="arrow">â†’</span>
                </small>
              </div>
            </div>
          </div>
        </a>
      </div>
  {% endfor %}
</div>
